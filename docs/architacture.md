# Архитектура проекта Ananasio

## Часть 1. Проектирование архитектуры («To Be»)

### 1. Определение типа приложения

Ananasio представляет собой веб-приложение для подсчета калорий в приемах пищи и блюдах, включающее:

- **Backend** – Rest API для обработки запросов и взаимодействия с базой данных.
- **Frontend** – веб-приложение на React для работы через браузер.

### 2. Стратегия развёртывания

- **Backend**: контейнеризация с Docker, деплой на облачные платформы (AWS, DigitalOcean, Heroku), база данных MySQL.
- **Frontend**: разрабатывается с использованием React, деплой возможен через Vercel, Netlify или серверные платформы (NGINX + Docker).

### 3. Обоснование выбора технологий

#### Backend:

- **Spring Boot** – мощный и гибкий фреймворк для создания Java-приложений.
- **Spring Data JPA** – ORM для работы с базой данных.
- **Redis** – кэширование данных.
- **JWT (JSON Web Token)** – аутентификация.
- **Hibernate Validator** – валидация данных.

#### Frontend:

- **React** – современный JavaScript-фреймворк для разработки SPA.

### 4. Показатели качества

- **Производительность** – асинхронные операции, кэширование, клиентская оптимизация.
- **Масштабируемость** – контейнеризация и адаптация под облачные сервисы.
- **Безопасность** – JWT-аутентификация, защищённые соединения.
- **Надёжность** – логирование и обработка ошибок.

### 5. Реализация сквозной функциональности

- **Backend**: логирование (`LoggingAspect`), кэширование (`CacheManager`).
- **Frontend**: работа с API, кэширование данных в `localStorage` или `IndexedDB`.

### 6. Структурная схема приложения
![Архитектурная диаграмма ToBe](https://github.com/likevelerjegher/ananasio/blob/main/docs/pictures/architactureToBe.png)

## Часть 2. Анализ архитектуры («As Is»)

### 1. Анализ текущей структуры кода

- **Backend**:
  - **aspect/** – содержит аспекты для перехвата вызовов методов и логирования.
  - **controllers/** – маршрутизация API, обработка входящих HTTP-запросов.
  - **exception/** – пользовательские исключения и их обработчики.
  - **model/** - модели данных, используемые для взаимодействия с базой данных.
  - **services/** – бизнес-логика приложения.
  - **repositories/** – Spring Data JPA репозитории для работы с базой данных.
- **Frontend**:

![Архитектурная диаграмма AsIs](https://github.com/likevelerjegher/ananasio/blob/main/docs/pictures/architactureAsIs.png)

## Часть 3. Сравнение и рефакторинг

### 1. Сравнение «To Be» и «As Is»

- **Архитектурное видение**:
  - To Be: Четкое разделение между backend и frontend, с использованием современных технологий и подходов.
  - As Is: Основные модули присутствуют, но требуется улучшение взаимодействия между компонентами.

### 2. Выявленные отличия

**Оптимизация взаимодействия**:
- To Be: Предполагается стандартизация API и улучшение обработки ошибок.
- As Is: Возможны проблемы с обработкой ошибок и недостаточной стандартизацией API.

**Модульность сервисного слоя**:
- To Be: Улучшенная модульность и структурированность сервисного слоя.
- As Is: Сервисный слой может быть менее структурированным и требует оптимизации.

**Архитектура frontend**:
- To Be: Внедрение лучших практик проектирования, таких как использование Redux или Context API для управления состоянием.
- As Is: Возможно, отсутствует четкая структура управления состоянием.

### 3. Пути улучшения архитектуры

**Оптимизация API**:
- Стандартизация API для улучшения взаимодействия между backend и frontend.
- Улучшение обработки ошибок для повышения надежности системы.
  
**Введение архитектурных паттернов**:
- Использование CQRS (Command Query Responsibility Segregation) для улучшения структуры backend.
- Внедрение Redux или Context API для управления состоянием в frontend.

**Автоматизированное тестирование и CI/CD**:
- Внедрение автоматизированного тестирования для повышения качества кода.
- Использование CI/CD для обеспечения стабильности и предсказуемости развертывания.
